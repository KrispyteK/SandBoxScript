

struct HitResult {
	Hit = true
}

module Agent {
	fn Scan (direction) {
		return HitResult()
	}
}


scanSteps = 8
i = 0
moveDirection = <1,0,0>

fn Update () {	
	angle = (i / scanSteps) * 2 * Math.PI

	direction = <Math.Sin(angle), 0, Math.Cos(angle)>

	scanResult = Agent.Scan(direction)

	if (scanResult.Hit) { 
		moveDirection = -direction
	}

	i++

	if (i > scanSteps) i = 0
}              